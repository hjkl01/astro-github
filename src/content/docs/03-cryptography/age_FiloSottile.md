---
title: age
---

# age 项目概述

**GitHub 项目地址：** [https://github.com/FiloSottile/age](https://github.com/FiloSottile/age)

## 主要特性

age 是一个简单、现代和安全的文件加密工具（和Go库），具有小的显式密钥、无配置选项和UNIX风格的可组合性。

- **简单性**：命令行界面简洁，易于集成到脚本和自动化流程中。
- **安全性**：使用 X25519（椭圆曲线 Diffie-Hellman）密钥交换、ChaCha20-Poly1305 加密和 BLAKE2b 哈希，确保高安全性。支持公钥加密和对称加密。
- **跨平台支持**：兼容 Linux、macOS 和 Windows。
- **无状态加密**：加密文件不依赖外部配置，易于分发。
- **开源与审计友好**：纯 Go 语言实现，便于代码审查，已通过社区审计。
- **轻量级**：无需复杂依赖，安装简单。
- **SSH 密钥支持**：作为便利功能，支持加密到 ssh-rsa 和 ssh-ed25519 SSH 公钥。
- **插件支持**：硬件 PIV 令牌如 YubiKeys 通过 age-plugin-yubikey 插件支持。

## 主要功能

- **公钥加密**：使用接收者的公钥加密文件，支持多个接收者。
- **对称加密**：使用密码短语加密文件。
- **解密**：自动检测加密类型，使用对应私钥或密码解密。
- **身份文件管理**：生成和管理密钥对，支持加密身份文件。
- **集成友好**：可与 age-keygen 生成密钥，并支持插件式扩展。
- **SSH 密钥**：支持使用 SSH 公钥加密和私钥解密。
- **多接收者**：文件可以加密到多个接收者，每个都可以解密。
- **接收者文件**：多个接收者可以列在一个文件中。

## 用法示例

### 安装

- **Go**：`go install filippo.io/age/cmd/...@latest`
- **Homebrew**：`brew install age`
- **MacPorts**：`port install age`
- **Alpine**：`apk add age`
- **Arch**：`pacman -S age`
- **Debian**：`apt install age`
- **Fedora**：`dnf install age`
- **NixOS**：`nix-env -i age`
- **FreeBSD**：`pkg install age`
- **Chocolatey**：`choco install age.portable`
- **Scoop**：`scoop bucket add extras && scoop install age`

### 生成密钥对

```bash
age-keygen -o key.txt
# 输出公钥：age1ql3z7hjy54pw3hyww5ayyfg7zqgvc7w3j2elw8zmrj2kg5sfn9aqmcac8p
```

### 加密文件（公钥）

```bash
age -e -o example.jpg.age -r age1ql3z7hjy54pw3hyww5ayyfg7zqgvc7w3j2elw8zmrj2kg5sfn9aqmcac8p example.jpg
```

### 多接收者

```bash
age -o example.jpg.age -r recipient1 -r recipient2 example.jpg
```

### 接收者文件

```bash
cat recipients.txt
# Alice
age1ql3z7hjy54pw3hyww5ayyfg7zqgvc7w3j2elw8zmrj2kg5sfn9aqmcac8p
# Bob
age1lggyhqrw2nlhcxprm67z43rta597azn8gknawjehu9d9dl0jq3yqqvfafg
age -R recipients.txt example.jpg > example.jpg.age
```

### 密码短语

```bash
age -p secrets.txt > secrets.txt.age
Enter passphrase (leave empty to autogenerate a secure one):
Using the autogenerated passphrase "release-response-step-brand-wrap-ankle-pair-unusual-sword-train".
```

### 解密

```bash
age -d -i key.txt -o example.jpg example.jpg.age
```

### SSH 密钥

```bash
age -R ~/.ssh/id_ed25519.pub example.jpg > example.jpg.age
age -d -i ~/.ssh/id_ed25519 example.jpg.age > example.jpg
```

### 加密到 GitHub 用户

```bash
curl https://github.com/benjojo.keys | age -R - example.jpg > example.jpg.age
```

详细文档见项目 README。
