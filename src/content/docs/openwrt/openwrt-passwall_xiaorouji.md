---
title: openwrt-passwall
---

# openwrt-passwall_xiaorouji

**GitHub åœ°å€**: https://github.com/xiaorouji/openwrt-passwall

## ğŸ“£ æ³¨æ„

ç”±äº Sing-box åœ¨ 1.12.0 ç‰ˆæœ¬ä¸­ç§»é™¤ Geo åªä¿ç•™è§„åˆ™é›†ï¼ŒPasswall ä¸ºé€‚åº”è¿™ä¸€å˜æ›´ï¼ŒåŒæ—¶å…¼å®¹ Xray å’Œ Sing-box çš„åˆ†æµæ–¹å¼ï¼Œä» 25.3.9 ç‰ˆèµ·ï¼ŒSing-box åˆ†æµå°†ä¾èµ– Geoview ä» Geofile ç”Ÿæˆè§„åˆ™é›†ã€‚**æœªå®‰è£… Geoview å°†æ— æ³•ä½¿ç”¨ Sing-box åˆ†æµ**ã€‚

## ä¸»è¦ç‰¹æ€§

1. **å¤šåè®®æ”¯æŒ**
   - ShadowSocksï¼ˆShadowsocksRã€Shadowsocks-libevã€Shadowsocks-libev+Xrayï¼‰
   - V2Ray / Xrayï¼ˆVMessã€VLESSã€Trojanã€HTTPSã€HTTPä»£ç†ï¼‰
   - Sing-boxï¼ˆæ”¯æŒè§„åˆ™é›†åˆ†æµï¼Œéœ€ Geoviewï¼‰
   - WireGuardã€OpenVPNã€L2TP/IPSec

2. **æ™ºèƒ½è·¯ç”±**
   - æ ¹æ®ç›®æ ‡åŸŸåæˆ– IP åˆ—è¡¨åšè‡ªå®šä¹‰è·¯ç”±
   - è‡ªåŠ¨ä¸ºèŠ‚ç‚¹å‘ç° â€œNode-Ruleâ€ ä¸ â€œGeoIPâ€ åŒé‡è·¯ç”±

3. **æ’ä»¶åŒ–è®¾è®¡**
   - `passwall`ã€`passwall2` åˆ†åˆ«è¦†ç›–ä¸åŒåè®®ä¸æ’ä»¶
   - é€šè¿‡ `luci-app-passwall` é›†æˆ LuCI æ§åˆ¶é¢æ¿
   - å®Œæ•´çš„ Web UI æ“ä½œï¼Œæ”¯æŒæœåŠ¡å™¨ã€èŠ‚ç‚¹ã€è§„åˆ™ã€ä»£ç†ç»„ç®¡ç†

4. **é«˜æ€§èƒ½**
   - å¤§é‡ OpenWrt è®¾å¤‡ï¼ˆARMã€x86ã€MIPSï¼‰æ”¯æŒ
   - æ”¯æŒå¤šçº¿ç¨‹ã€å¼‚æ­¥ IO ä¼˜åŒ–ï¼Œå‡å°‘ CPU å ç”¨

5. **å®‰å…¨ä¸éšç§**
   - æ”¯æŒ TLS/QUIC åŠ å¯†
   - å…è®¸è‡ªå®šä¹‰è¯ä¹¦ã€åŠ å¯†æ–¹æ³•ä¸å¯†ç 
   - `koolshare`ã€`xiaopu` ç­‰ OpenWrt è¡ç”Ÿäº§ä¸šæ”¯æŒ

## æ ¸å¿ƒåŠŸèƒ½

| åŠŸèƒ½        | è¯´æ˜                                                   |
| ----------- | ------------------------------------------------------ |
| èŠ‚ç‚¹ç®¡ç†    | æ”¯æŒæ‰‹åŠ¨æ·»åŠ ã€æ‰¹é‡å¯¼å…¥ã€è‡ªåŠ¨æ›´æ–°èŠ‚ç‚¹ï¼ˆSS/SSR/V2Ray/â€¦ï¼‰ |
| è§„åˆ™ç®¡ç†    | DNS ç›´è¿ã€Leak é˜²æŠ¤ã€å¹¿å‘Šè¿‡æ»¤ã€WAN åŸŸåç›´è¿            |
| ä»£ç†ç»„      | æ”¯æŒå¤šçº¿è·¯ã€æµé‡é‡åŒ–ã€æœ€å°‘å­—æ®µæ‹¾å–                     |
| Docker ç‰ˆæœ¬ | å¯åœ¨ Docker ç¯å¢ƒéƒ¨ç½²ï¼Œä¸ Dockerâ€‘compose å…¼å®¹           |
| å‡çº§è„šæœ¬    | ä¸€é”®å‡çº§ `passwall` åŠ LuCI æ’ä»¶                       |
| ç»Ÿè®¡ä¸ç›‘æ§  | æ—¥å¿—è§†å›¾ã€æµé‡ç»Ÿè®¡ã€æµé‡å›¾è¡¨                           |

## ç”¨æ³•ç¤ºä¾‹

1. **å®‰è£…åŒ…**

   ```bash
   # å…ˆå¯ç”¨ Passwall
   opkg update
   opkg install luci-app-passwall
   opkg install passwall
   # å…¶å®ƒä¾èµ–æŒ‰æç¤ºå®‰è£…
   ```

2. **æ·»åŠ èŠ‚ç‚¹**
   - è¿›å…¥ LuCI â†’ ç³»ç»Ÿ â†’ Passwall
   - ç‚¹å‡» â€œèŠ‚ç‚¹ç®¡ç†â€ â†’ â€œæ·»åŠ â€
   - å¡«å†™åè®®ã€IP/åŸŸåã€ç«¯å£ã€åŠ å¯†æ–¹å¼ã€å¯†ç ã€å€ç‡ç­‰å­—æ®µ
   - ä¿å­˜åå¯ç”¨èŠ‚ç‚¹

3. **é…ç½®è·¯ç”±**
   - LuCI â†’ ç³»ç»Ÿ â†’ Passwall â†’ è·¯ç”±
   - è®¾å®šè‡ªå®šä¹‰åŸŸåã€IPã€è§„åˆ™ï¼Œé€‰æ‹©å¯¹åº”çš„ä»£ç†ç»„
   - ä¿å­˜åè‡ªåŠ¨æ›´æ–° `dnsmasq` ä¸ `iproute2` è·¯ç”±è¡¨

4. **ä½¿ç”¨å±€éƒ¨é€æ˜ä»£ç†**
   - åœ¨ â€œé€æ˜ä»£ç†â€ é¡µé¢å¯ç”¨ `auto-bind sec`
   - é…ç½®éœ€è¦é€æ˜ä»£ç†çš„ IP/å­ç½‘
   - ç³»ç»Ÿå°†è‡ªåŠ¨å°†æµé‡ä»å¯¹åº” IP/å­ç½‘è½¬å‘è‡³ Passwall ä»£ç†ç»„

5. **Docker éƒ¨ç½²** (å¯é€‰)

   ```bash
   docker pull xiaorouji/openwrt-passwall
   docker run -d --restart=always -p 1080:1080 -e TZ=Asia/Shanghai xiaorouji/openwrt-passwall
   ```

6. **å¸¸ç”¨å‘½ä»¤è¡Œå·¥å…·**
   ```bash
   # ç»Ÿè®¡æµé‡
   uci show passwall
   # é‡å†™é…ç½®
   uci commit pass
   # è¿è¡Œæ—¥å¿—æŸ¥çœ‹
   logread | grep passwall
   ```

> **æç¤º**ï¼š
>
> - åœ¨ V2Ray/Xray èŠ‚ç‚¹é…ç½®ä¸­ï¼Œ`tls` å¿…é¡»å¼€å¯ï¼Œä¸”éœ€å¯¹åº”è¯ä¹¦ã€‚  
>   éœ€ä½¿ç”¨ `node-rule`ï¼Œè¯·åœ¨èŠ‚ç‚¹ç®¡ç†é¡µé¢å¼€å¯ â€œèŠ‚ç‚¹è§„åˆ™â€ å¹¶æä¾›è§„åˆ™æ–‡ä»¶ã€‚
> - é¢‘ç¹æ›´æ–°èŠ‚ç‚¹æ—¶å»ºè®®ä½¿ç”¨ `passwall update` è„šæœ¬æˆ–è‡ªåŠ¨ä»£ç†åˆ—è¡¨ï¼ˆå¦‚ `ssr-shadowsocks` å­åŸŸï¼‰ã€‚

---

> æœ¬æ–‡æä¾›äº†é¡¹ç›®æ¦‚è§ˆåŠå¿«é€Ÿå…¥é—¨çš„æ ¸å¿ƒæ“ä½œæ­¥éª¤ï¼Œå¸®åŠ©ç”¨æˆ·å¿«é€Ÿåœ¨ OpenWrt ç¯å¢ƒä¸­éƒ¨ç½²å¹¶ä½¿ç”¨ Passwall è¿›è¡Œç½‘ç»œä»£ç†ä¸è·¯ç”±ç®¡ç†ã€‚
> ğŸ’ Support this free API: https://www.paypal.com/donate/?hosted_button_id=XS3CAYT8LE2BL
