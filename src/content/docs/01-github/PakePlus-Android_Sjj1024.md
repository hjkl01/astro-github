
---
title: PakePlus-Android
---


# PakePlus‑Android

**项目地址**  
[https://github.com/Sjj1024/PakePlus-Android](https://github.com/Sjj1024/PakePlus-Android)

---

## 项目概述
PakePlus‑Android 是基于原版 Pake 的 Android 对接实现，利用 TCP/UDP 技术在同一 Wi‑Fi 网络下实现文件高速传输。该项目在保持 Pake 轻量、易用的基础上，加入了二维码扫码、对称加密、端口扫描等功能，以提升用户体验与传输安全。

---

## 主要特性

| 功能 | 说明 |
|------|------|
| **高效文件传输** | 采用 UDP 多路复用 + ACK，文件块分段传输，速度可达原版 Pake 的 2-3 倍。 |
| **二维码一键联机** | 发送端生成包含 IP、端口、加密密钥的二维码，接收端一扫即可自动配置并建立连接。 |
| **对称加密** | 采用 AES‑128-CBC，对传输的文件块进行加密，保障传输过程中的隐私安全。 |
| **端口扫描** | 支持自动端口检测，避免端口冲突导致的连线失败。 |
| **多格式文件支持** | 对 JPEG/PNG/MP4/MP3/TXT 等多种文件类型可一次性批量传输。 |
| **进度可视化** | 启动传输后显示实时百分比、已传/总量、速率、预计剩余时间。 |
| **离线缓存** | 发送端支持离线时缓存文件，在网络恢复后自动重试上传。 |
| **UI/UX 简洁** | 采用最新 Material 设计，适配暗色模式，手势交互友好。 |
| **兼容性** | 支持 Android 6.0 以上版本，布局自适应多分辨率屏幕。 |

---

## 功能与使用方法

### 1. 启动

- **Java / Kotlin 项目**  
  ```bash
  ./gradlew clean build
  ```

- **生成 APK / AAB**  
  `app/build/outputs/apk` 或 `app/build/outputs/bundle` 目录下可找到可安装的包。

### 2. 使用流程

1. **在两台设备上安装并打开 PakePlus**  
   - 设备 A ( - 设备 B (接收方)

2. **生成二维码 (发送方)**  
   - 打开主界面 → 进入 “发送” 模式 → 选择要分享的文件 → 生成二维码。  
   - 二维码包含 IP、端口、密钥信息。

3. **扫码接入 (接收方)**  
   - 进入 “接收” 模式 → 扫描二维码。  
   - 接收方会自动解析连接信息，并显示 “已准备接收 X MB”。

4. **确认接收**  
   - 接收方点击 “开始接收” → 当文件传输完成后，系统提示 “接收完成”。

5. **离线缓存**  
   - 若接收方在首次扫描时无网络，系统会缓存待接收列表；网络恢复后自动拉取。

6. **查看传输历史**  
   - 在主界面右下角「⋮」菜单 → “历史记录” → 查看已完成/失败记录。

### 3. 命令行调试（可选）

```bash
adb shell
# 查看日志
logcat -v time | grep PakePlus
```

### 4. 自定义配置

- **修改默认端口**  
  `app/src/main/res/values/strings.xml` 中 `default_port`  
- **更换加密密钥**  
  可在 `FileTransferService.kt` 中 `generateKey()` 位置自定义密钥生成策略。

---

## 常见问题

| 问题 | 解决方案 |
|------|-----------|
| **文件无法传输** | 确认两台设备处于同一 Wi‑Fi，且未开启对等传输 ACL。 |
| **二维码解析失败** | 确保二维码无干扰且使用高清屏幕扫描。 |
| **速度慢** | 检查网络拥堵或开启端口扫描后自动切换到更空闲端口。 |

---

## 贡献指南

- Fork 本仓库 → 新分支 → 编写代码 → 提交 Pull Request。  
- 代码风格保持一致，使用 [ktlint](https://github.com/ktlint/ktlint) 进行格式化。  
- 所有新功能均需配合单元测试与功能测试。

---

## 许可证

Apache‑2.0 开源许可证，详情见 `LICENSE` 文件。

---

> 若需进一步了解，请访问项目主页或 Issue 区。祝使用愉快！