
---
title: flash.nvim
---

# flash.nvim by folke

**é¡¹ç›®åœ°å€**  
[https://github.com/folke/flash.nvim](https://github.com/folke/flash.nvim)

---

## ç®€ä»‹

`flash.nvim` æ˜¯ä¸€ä¸ªæç®€ä¸»ä¹‰çš„ Neovim æ’ä»¶ï¼Œç”¨äºå¿«é€Ÿè·³è½¬ã€æœç´¢ä»¥åŠé€‰æ‹©æ–‡æœ¬ã€‚å®ƒä»¥æå°çš„è¾“å…¥å»¶è¿Ÿä¸ºæ ¸å¿ƒï¼Œæ”¯æŒå¤šç§è·³è½¬æ–¹å¼ï¼ˆå¦‚ `f`, `t`, `F`, `T` ä»¥åŠæ­£åˆ™è¡¨è¾¾å¼æœç´¢ï¼‰ï¼Œå¹¶å…¼å®¹æ™®é€šæ¨¡å¼ã€å¯è§†æ¨¡å¼ã€é€‰æ‹©æ¨¡å¼ç­‰ã€‚ä¸ä¼ ç»Ÿçš„ `f/t åªå…è®¸ä¸€æ¬¡è·³è½¬ä¸åŒï¼Œ`flash.nvim` ä¼šæ˜¾ç¤ºæ‰€æœ‰å¯è·³è½¬ç›®æ ‡ï¼Œå¹¶æ”¯æŒå¤šå­—ç¬¦æœç´¢ã€å†·ç«è½¦è·³è½¬ï¼ˆ`/`ã€`?`ï¼‰ä»¥åŠå¤ç”¨ä¸Šä¸€æ¬¡è·³è½¬ç­‰åŠŸèƒ½ã€‚

> ç›®æ ‡ï¼šè®©è·³è½¬æ›´åŠ ç›´è§‚ã€å¿«é€Ÿã€å¯å®šåˆ¶ï¼Œå‡å°‘ä¸Šä¸‹æ–‡åˆ‡æ¢æ—¶é—´ã€‚

---

## ä¸»è¦ç‰¹æ€§

| ç‰¹æ€§ | è¯´æ˜ |
|-------|------|
| **å¤šå­—ç¬¦æœç´¢** | é€šè¿‡ `f/t/F/T` é€‰å–å¤šä¸ªå­—ç¬¦ï¼Œæ’ä»¶ä¼šåŒæ—¶é«˜äº®æ‰€æœ‰åŒ¹é…ç‚¹ã€‚ |
| **å¯è§†æ¨¡å¼æ”¯æŒ** | åœ¨v`ã€`V`ã€`Ctrl+v` å†…ä½¿ç”¨ `flash` è¿›è¡ŒèŒƒå›´é€‰æ‹©ã€‚ |
| **å¯å¤ç”¨** | `rfl`ï¼ˆrepeat last flashï¼‰æˆ– `nth`ï¼ˆè·³è‡³ç¬¬nä¸ªç›®æ ‡ï¼‰ã€‚ |
| **å¤šå±‚æœç´¢** | æ”¯æŒæ­£åˆ™è¡¨è¾¾å¼æœç´¢ (`/`ã€`?`) å¹¶å¯è¿”å›ä¸Šä¸€å±‚ã€‚ |
| **é€‰æ‹© UI** | é«˜äº®ç›®æ ‡ã€æ˜¾ç¤ºæ•°å­—ã€å€’è®¡æ—¶ã€ç¬¦å·æç¤ºç­‰ã€‚ |
| **è½»é‡çº§** | ä»…å‡ ç™¾è¡Œ Luaï¼ŒåŠ è½½å»¶è¿Ÿä¸åˆ° 1msã€‚ |
| **è‡ªç”±é…ç½®** | é€šè¿‡ `require('flash').setup { â€¦ }` è‡ªå®šä¹‰é”®ä½ã€æ˜¾ç¤ºæ–¹å¼ã€è·³è½¬è¡Œä¸ºã€‚ |
| **å¤–éƒ¨æ’ä»¶é›†æˆ** | ä¸ Telescopeã€Harpoonã€JumpClose ç­‰æ’ä»¶æ— ç¼é…åˆã€‚ |

---

## å®‰è£…

> ä½¿ç”¨ [Packer](httpsgithub.com/wbthomason/packer.nvim) ä½œä¸ºä¾‹å­

```lua
use({
  "folke/flash.nvim",
  event = "VeryLazy",
  opts = {},  -- é»˜è®¤é…ç½®ï¼ˆå¯è‡ªè¡Œè¦†ç›–ï¼‰
})
```

> ä¹Ÿå¯ä½¿ç”¨ `vim-plug`, `lazy.nvim` ç­‰æ’ä»¶ç®¡ç†å™¨ï¼Œåªéœ€æŠŠä¸Šé¢ `use/plug/` å¯¹åº”è¯­å¥æ”¹æˆå¯¹åº”æ–¹å¼å³å¯ã€‚

---

## åŸºæœ¬ç”¨æ³•

```lua
-- 1ï¸âƒ£ æ™®é€šè·³è½¬
-- ä½¿ç”¨ <leader>f è§¦å‘ï¼ˆé»˜è®¤æ˜ å°„ï¼‰ï¼Œæˆ–ç›´æ¥è°ƒç”¨ï¼š
vim.keymap.set('n', '<leader>f', require('flash').jump, { desc = 'Flash: jump' })

-- 2ï¸âƒ£ å¤ç”¨ä¸Šä¸€æ¬¡è·³è½¬
vim.keymap.set('n', 'rfl', require('flash').jump, { desc = 'Flash: repeat last' })

-- 3ï¸âƒ£ å•å­—ç¬¦è·³è½¬
vim.keymap.set('n', 'f', function()
  require('flash').jump({ search = { pattern = vim.fn.getchar(), max_length = 1 } })
end, { desc = 'Flash: jump to character' })
```

> é»˜è®¤ï¼Œ`<leader>f` è§¦å‘è·³è½¬ï¼Œå¹¶æ”¯æŒå¤šå­—ç¬¦è¾“å…¥ã€‚è§¦å‘åä¼šåœ¨å½“å‰è¡Œ/èŒƒå›´å†…é«˜äº®åŒ¹é…å­—ç¬¦ï¼ŒæŒ‰ä¸‹å¯¹åº”å­—ç¬¦å³å¯è·³è½¬ã€‚

---

## é…ç½®ç¤ºä¾‹

```lua
require('flash').setup({
  -- æ•´ä½“å­—ç¬¦åŒ¹é…è¡Œä¸º
  highlight = {
    enabled = true,          -- é«˜äº®åŒ¹é…ç›®æ ‡
    types = { char = true }, -- ä»…å­—ç¬¦ (ä¸éœ€è¦æ­£åˆ™)
  },

  -- `search` ç›¸å…³
  search = {
    multi_window = false,    -- æ˜¯å¦åœ¨æ–°çª—å£æœç´¢
    mode = false,            -- ä»…æœç´¢å­—ç¬¦ä¸²ï¼Œåœ¨å½“å‰çª—å£å†…
    incremental = true,      -- é€å­—æç¤º
  },

  -- `label` å­—ç¬¦æ˜ å°„ï¼Œæ”¯æŒè‡ªå®šä¹‰é”®ä½æ–¹æ¡ˆ {
    chars = "asdfghjklqwertyuiopzxcvbnm",
  },

  -- æŠŠ `flash` ä¸åŸå§‹çš„ `f/t` æŒ‰é”®å†²çªçš„æŒ‰é”®æ˜ å°„ä¸ºå…¨å±è·³è½¬
  mappings = {
    char = { "<C-f>", "<C-t>" },
  },

  -- Keybinding é€æ˜æ€§ï¼Œå¯è‡ªå®šä¹‰
  keymap = {
    jump_start = "f",
    jump_end = "F",
    text_objects = { next = "f", prev = "F" },
  },

  -- è‡ªå®šä¹‰è·³è½¬ UIï¼Œä¾‹å¦‚åœ¨é«˜äº®é¢œè‰²ã€è·³è½¬ç¬¦å·
  config = {
    inline = true -- æ˜¯å¦æ˜¾ç¤ºè¡Œå†…æç¤º
    prompt = "âœ",           -- è‡ªå®šä¹‰æç¤ºç¬¦
  },
})
```

> æ‰€æœ‰å¯é…ç½®é¡¹è¯·å‚è§å®˜æ–¹æ–‡æ¡£ï¼š[`/lua/flash/init.lua`](https://github.com/folke/flash.nvim/blob/main/lua/flash/init.lua)ã€‚æ’ä»¶æåº¦å¯å®šåˆ¶ï¼Œå‡ ä¹æ‰€æœ‰è¡Œä¸ºéƒ½èƒ½é€šè¿‡ `setup` è¦†ç›–ã€‚

---

## è¿›é˜¶æŠ€å·§

1. **å¤šè¡Œè·³è½¬**  
   ```lua
   vim.keymap.set('n', 'f', function()
     require('flash').jump({ search = { pattern = vim.fn.getchar() }, multi_window = true })
   end)
   ```

2. **ä¸ Telescope é›†æˆ**  
   ```lua
   vim.keymap.set('n', 'ff', function()
     require('flash').telescope()
   end)
   ```

3. **å¯è§†æ¨¡å¼å¿«æ·é”®**  
   ```lua
   vim.keymap.set('v', 'v', require('flash').jump_visual, { desc = 'Flash: visual' })
   ```

4. **å¿«é€Ÿå¤åˆ¶/ç²˜è´´**  
   é€šè¿‡ `q` æ”¾å¼ƒï¼Œæ’¤é”€ä¸Šæ¬¡è·³è½¬æˆ–é€€å‡º Flashã€‚

---

## å¸¸è§é—®é¢˜

| é—®é¢˜ | è§£å†³æ–¹æ¡ˆ |
|------|----------|
| å¦‚ä½•åœ¨æ’å…¥æ¨¡å¼ä¸­ä½¿ç”¨ Flashï¼Ÿ | æ’å…¥æ¨¡å¼ä¸­ç»‘å®š `Ctrl+F` æˆ–ä½ å–œæ¬¢çš„ç»„åˆï¼Œå¦‚ `vim.keymap.set('i', '<C-f>', require('flash').jump)` |
| æˆ‘æƒ³æŠŠ Flash çš„æŒ‰é’®ç»‘å®šåˆ° `f`ã€`t`ã€`F`ã€`T`ï¼Ÿ | åœ¨é…ç½®é‡Œä½¿ç”¨ `mappings = { char = { "f", "t", "F", "T" } }` å³å¯è¦†ç›–é»˜è®¤é”®ä½ã€‚ |
| Flash æŠŠæˆ‘çš„ `/<CR>` å‘½ä»¤ç½®é¡¶ï¼Œæ€ä¹ˆè®©å®ƒæ­£å¸¸å·¥ä½œï¼Ÿ | åœ¨æœç´¢æ—¶ä½¿ç”¨ `search.incremental` æˆ–å•ç‹¬é…ç½® `search = { mode = 'search' }`ã€‚ |

---

## è´¡çŒ®ä¸äº¤æµ

- **ä»“åº“**: https://github.com/folke/flash.nvim  
- **Issues**: å‘ç° bug æˆ–æƒ³æå»ºè®®è¯·æäº¤ issueã€‚  
- **è®¨è®º**: åœ¨ Neovim ç¤¾åŒºæ’ä»¶è®¨è®ºç»„ä¸­äº¤æµã€‚  
- **æ¼”ç¤º**: å®˜æ–¹ä»“åº“ä¸­ `demo` ç›®å½•å¯ç›´æ¥è¿è¡Œæµ‹è¯•ã€‚

---

**ç¥ä½ åœ¨ Neovim ä¸­ç©å¾—æ›´å¿«ã€æ›´çˆ½ ğŸš€**