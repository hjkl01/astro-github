---
title: trouble.nvim
---


# Trouble.nvimï¼ˆfolke ç‰ˆï¼‰

> **é¡¹ç›®åœ°å€**ï¼š<https://github.com/folke/trouble.nvim>

## ç®€ä»‹
`trouble.nvim` æ˜¯ä¸€æ¬¾ä¸º Neovim è®¾è®¡çš„è¯Šæ–­ã€é”™è¯¯ã€è­¦å‘Šã€æœç´¢ç»“æœç­‰åˆ—è¡¨æ’ä»¶ã€‚å®ƒå¯ä»¥å°† `:messages`ã€`quickfix`ã€`locationlist`ã€`diagnostics` ç­‰ä¿¡æ¯ä»¥å¯äº¤äº’çš„åˆ—è¡¨å½¢å¼å±•ç¤ºï¼Œæå¤§æå‡æ’æŸ¥å’Œè°ƒè¯•æ•ˆç‡ã€‚

## ä¸»è¦ç‰¹æ€§

| ç‰¹æ€§ | è¯´æ˜ |
|------|------|
| **å¤šæ¥æºæ•´åˆ** | åŒæ—¶æ”¯æŒ `quickfix`ã€`locationlist`ã€`diagnostics`ã€`lsp` æ¶ˆæ¯ã€`grep` ç»“æœã€`lsp` æœç´¢ç­‰å¤šç§æ¥æº |
| **å¯è§†åŒ–ç•Œé¢** | åˆ—è¡¨ä»¥ä¾§è¾¹æ å½¢å¼å±•ç¤ºï¼Œæ”¯æŒåˆ†ç»„ã€æŠ˜å ã€é¢œè‰²é«˜äº® |
| **äº¤äº’å¼æ“ä½œ** | å¿«æ·é”®è·³è½¬ã€æŠ˜å /å±•å¼€ã€åˆ‡æ¢æ¥æºã€è¿‡æ»¤ã€åˆ é™¤ç­‰ |
| **è‡ªå®šä¹‰é…ç½®** | æ”¯æŒè‡ªå®šä¹‰å›¾æ ‡ã€å¿«æ·é”®ã€çª—å£å¸ƒå±€ã€è¿‡æ»¤è§„åˆ™ |
| **æ’ä»¶é›†æˆ** | ä¸ `nvim-lspconfig`ã€`telescope.nvim`ã€`fzf-lua` ç­‰æ’ä»¶æ— ç¼åä½œ |
| **å¯æ‰©å±•** | æ”¯æŒæ’ä»¶åŒ–çš„ `trouble` è§†å›¾ï¼ˆå¦‚ `trouble.nvim` çš„ `trouble` è§†å›¾ï¼‰ |

## å®‰è£…

ä½¿ç”¨ `lazy.nvim`ï¼ˆæ¨èï¼‰ï¼š

```lua
{
  "folke/trouble.nvim",
  dependencies = { "nvim-tree/nvim-web-devicons" },
  opts = {}, -- å¯åœ¨æ­¤å¤„è‡ªå®šä¹‰é…ç½®
}
```

æˆ–è€…ä½¿ç”¨ `vim-plug`ï¼š

```vim
Plug 'folke/trouble.nvim', {'do': ':UpdateRemotePlugins'}
```

## åŸºæœ¬ç”¨æ³•

### æ‰“å¼€/å…³é—­ Trouble åˆ—è¡¨

```vim
:TroubleToggle          " åˆ‡æ¢æ˜¾ç¤º
:Trouble                " æ‰“å¼€åˆ—è¡¨
:TroubleClose           " å…³é—­åˆ—è¡¨
```

### è¯Šæ–­ï¼ˆLSPï¼‰è§†å›¾

```vim
:Trouble diagnostics    " æ˜¾ç¤ºå½“å‰ç¼“å†²åŒºæ‰€æœ‰è¯Šæ–­
:Trouble lsp             " æ˜¾ç¤º LSP æä¾›çš„æ‰€æœ‰ä¿¡æ¯
```

### Quickfix / Locationlist

```vim
:Trouble quickfix       " æ˜¾ç¤º quickfix åˆ—è¡¨
:Trouble loclist        " æ˜¾ç¤º locationlist åˆ—è¡¨
```

### è¿‡æ»¤ & æœç´¢

- åœ¨åˆ—è¡¨çª—å£ä¸­æŒ‰ `f` è¿›å…¥è¿‡æ»¤æ¨¡å¼ï¼Œè¾“å…¥å…³é”®è¯å³å¯è¿‡æ»¤æ¡ç›®ã€‚
- æŒ‰ `r` åˆ·æ–°åˆ—è¡¨ã€‚

### å¿«æ·é”®ï¼ˆé»˜è®¤ï¼‰  

| å¿«æ·é”® | åŠŸèƒ½ |
|--------|------|
| `Enter` | è·³è½¬åˆ°å¯¹åº”çš„ä½ç½® |
| `o` æˆ– `Enter` | è·³è½¬å¹¶å…³é—­åˆ—è¡¨ |
| `q` | å…³é—­åˆ—è¡¨ |
| `r` | åˆ·æ–° |
| `x` | åˆ é™¤æ¡ç›® |
| `t` | åœ¨æ–°æ ‡ç­¾é¡µæ‰“å¼€ |
| `c` | å¤åˆ¶è·¯å¾„ |
| `p` | åœ¨ç³»ç»Ÿå‰ªè´´æ¿å¤åˆ¶ä¿¡æ¯ |
| `f` | è¿‡æ»¤ |
| `k` | å±•å¼€/æŠ˜å åˆ†ç»„ |
| `a` | åˆ‡æ¢åˆ°æ‰€æœ‰æ¥æº |

> ä½ å¯ä»¥é€šè¿‡ `:h trouble.nvim` æŸ¥çœ‹å®Œæ•´çš„å¿«æ·é”®åˆ—è¡¨å’Œé«˜çº§é…ç½®ã€‚

## é…ç½®ç¤ºä¾‹

```lua
require('trouble').setup {
  icons = true,
  position = "bottom",     -- "bottom" | "left" | "right" | "top"
  height = 10,             -- ä»…å½“ position ä¸º bottom/top æ—¶æœ‰æ•ˆ
  width = 40,              -- ä»…å½“ position ä¸º left/right æ—¶æœ‰æ•ˆ
  fold_open = true,
  mode = "workspace_diagnostics",
  auto_open = false,
  auto_close = false,
  auto_preview = false,
  auto_fold = true,
  signs = {
    error = "ï™™",
    warning = "ï”©",
    hint = "ï µ",
    information = "ï‘‰",
    other = "ï« ",
  },
}
```

## å°æŠ€å·§

- **å¿«é€Ÿå®šä½é”™è¯¯**ï¼šåœ¨ `diagnostics` è§†å›¾ä¸­æŒ‰ `Enter`ï¼ŒNeovim ä¼šè·³è½¬åˆ°å¯¹åº”è¡Œå¹¶æ‰“å¼€ç¼–è¾‘å™¨ã€‚
- **æ‰¹é‡åˆ é™¤**ï¼šå¤šé€‰æ¡ç›®åæŒ‰ `x` åˆ é™¤ã€‚
- **å¤šåˆ†ç»„**ï¼š`trouble` è§†å›¾å¯ä»¥æŒ‰ LSP åç§°æˆ–æ–‡ä»¶åˆ†ç»„ï¼Œä¾¿äºå¿«é€ŸæŸ¥çœ‹ã€‚

## ç»“è¯­

`trouble.nvim` é€šè¿‡ç»Ÿä¸€ã€å¯äº¤äº’çš„åˆ—è¡¨å±•ç¤ºäº† Neovim ç”Ÿæ€ä¸­çš„å„ç§è¯Šæ–­ä¿¡æ¯ï¼Œè®©è°ƒè¯•æµç¨‹æ›´åŠ ç›´è§‚ã€é«˜æ•ˆã€‚é€‚é…äº†å¤§å¤šæ•°æ’ä»¶å’Œ LSP æä¾›çš„åŠŸèƒ½ï¼Œå‡ ä¹æ˜¯æ‰€æœ‰ Neovim ç”¨æˆ·çš„å¿…å¤‡å·¥å…·ã€‚ç¥ä½ ä½¿ç”¨æ„‰å¿« ğŸš€

