---
title: fastapi-best-practices
---

## 项目简介

fastapi-best-practices 是由 zhanymkanov 维护的一个开源项目，提供了一套关于 FastAPI 框架的最佳实践指南。该项目基于作者在生产环境中多年的经验，总结了在初创公司和大型应用中开发 FastAPI 应用的实用建议和约定。

## 主要功能

### 项目结构组织

- 提供了一种可扩展的项目结构，适用于单体应用和多模块项目
- 按功能模块组织代码，每个模块包含路由、模式、模型、服务等文件
- 支持全局配置和模块特定配置的分离

### 异步路由最佳实践

- 详细解释了 FastAPI 中同步和异步路由的区别
- 指导如何正确处理 I/O 密集型和 CPU 密集型任务
- 避免常见的异步编程陷阱，如在异步函数中阻塞 I/O 操作

### Pydantic 使用指南

- 过度使用 Pydantic 进行数据验证和转换
- 自定义基础模型以实现全局配置（如日期时间格式化）
- 将 BaseSettings 分离到不同模块以提高可维护性

### 依赖注入模式

- 超越基本依赖注入，使用依赖进行复杂数据验证
- 链式依赖以避免代码重复
- 依赖缓存机制和异步依赖的优先使用

### 其他实用建议

- RESTful API 设计原则
- 响应序列化优化
- 数据库命名约定和迁移管理
- 测试客户端配置
- 使用 Ruff 进行代码检查和格式化

## 使用方法

1. **参考项目结构**：将提供的项目结构作为模板来组织你的 FastAPI 应用代码

2. **学习异步模式**：根据指南正确实现异步路由，避免性能问题

3. **应用 Pydantic 最佳实践**：使用自定义基础模型和分离的配置管理

4. **实现依赖注入**：利用依赖进行数据验证和业务逻辑复用

5. **遵循数据库约定**：采用推荐的命名规范和迁移策略

6. **配置开发环境**：使用 Ruff 进行代码质量检查，设置异步测试客户端

该项目主要作为参考指南使用，开发者可以通过阅读 README 和示例代码来学习和应用这些最佳实践，以提高 FastAPI 应用的开发效率和代码质量。
