
---
title: nps
---

# nps 项目介绍

## 项目地址
[GitHub 项目地址](https://github.com/ehang-io/nps)

## 主要特性
nps 是一个轻量级、高性能、功能强大的内网穿透代理服务器，支持多种协议和安全机制。其主要特性包括：
- **多协议支持**：支持 TCP、UDP、SOCKS5、HTTP 等多种代理协议。
- **高性能**：基于 Go 语言开发，采用高效的网络处理机制，适用于高并发场景。
- **安全加密**：内置 TLS/SSL 加密，支持证书验证，确保数据传输安全。
- **访问控制**：提供主机白名单、IP 过滤和认证机制，增强安全性。
- **负载均衡**：支持多个后端服务器的负载均衡，提高可用性。
- **Web 管理界面**：内置 Web 面板，便于配置和管理隧道。
- **跨平台**：支持 Windows、Linux、macOS 等操作系统。
- **P2P 支持**：可选的 P2P 模式，减少服务器中转，提高效率。

## 主要功能
nps 的核心功能是实现内网穿透和代理转发，帮助用户将内网服务暴露到公网。主要功能包括：
- **内网穿透**：通过 nps 服务端和客户端，建立隧道，将内网服务映射到公网端口。
- **反向代理**：支持 HTTP、HTTPS 反向代理，适用于 Web 服务。
- **SOCKS5 代理**：提供 SOCKS5 代理功能，支持科学上网或内网访问。
- **文件传输**：内置文件上传/下载功能，便于内网文件共享。
- **隧道管理**：动态添加/删除隧道，支持压缩和限速。
- **监控与日志**：实时监控连接状态，提供详细日志记录，便于调试。
- **桥接模式**：支持 nps 与其他代理工具（如 frp）的桥接集成。

## 用法
### 安装
1. 从 GitHub Releases 下载对应平台的二进制文件（nps.exe 或 nps）。
2. 解压后，目录包含 `nps`（客户端/服务端）、`npc`（客户端）和配置文件。

### 配置
- 编辑 `conf/nps.conf`（服务端配置文件）和 `conf/npc.conf`（客户端配置文件）。
  - 示例服务端配置（nps.conf）：
    ```
    [common]
    bind=0.0.0.0:8024  # 服务端监听端口
    https_port=443     # HTTPS 端口
    web_port=8080      # Web 管理端口
    web_username=admin # Web 登录用户名
    web_password=123   # Web 登录密码
    ```
  - 示例客户端配置（npc.conf）：
    ```
    [common]
    server_addr=服务器IP:8024  # 服务端地址
    vkey=隧道密钥  # 从服务端获取
    conn_type=tcp  # 连接类型
    ```
- 对于隧道配置，在 Web 面板或配置文件中添加规则，如：
  ```
  [tcp_proxy]
  mode=tcp
  target=127.0.0.1:80  # 内网目标地址
  port=8080            # 公网端口
  ```

### 启动
- 服务端：运行 `./nps` 或 `nps.exe`，启动后访问 Web 面板（http://IP:8080）。
- 客户端：运行 `./npc -config=conf/npc.conf` 或 `npc.exe -config=conf/npc.conf`。
- 创建隧道：在 Web 面板中添加新隧道，客户端连接后即可生效。
- 停止：使用 Ctrl+C 或 kill 命令。

更多详细用法请参考项目 README 和 Wiki 文档。